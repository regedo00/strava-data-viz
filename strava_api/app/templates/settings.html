{% extends "base.html" %}

{% block content %}
<div class="columns is-mobile">
    <div class="column">
        <section class="hero is-fullheight">
            <div class="hero-body has-text-centered">
              <div class="container">
                <div class="box">
    <h1 class="pb-4">
        <b>Update Credentials</b>
    </h1>
    <form action="{{ url_for('main.edit_credentials') }}" method="post">
        {{ form.hidden_tag() }}
        <div class="pb-4 input-div">
            <p class="pb-2 input-label">{{ form.name.label }}</p>
            <p>{{ form.name(size=32, class="input is-normal") }}</p>
            {% for error in form.name.errors %}
            <div class="notification is-danger is-light" role="alert">{{ error }}</div>
            {% endfor %}
        </div>
        <div class="pb-4 input-div">
            <p class="pb-2 input-label">{{ form.client_id.label }}</p>
            {{ form.client_id(size=32, class="input is-normal") }}<br>
            {% for error in form.client_id.errors %}
            <div class="notification is-danger is-light" role="alert">{{ error }}</div>
            {% endfor %}
        </div>
        <div class="pb-4 input-div">
            <p class="pb-2 input-label">{{ form.client_secret.label }}</p>
            {{ form.client_secret(class="input is-normal") }}<br>
            {% for error in form.client_secret.errors %}
            <div class="notification is-danger is-light" role="alert">{{ error }}</div>
            {% endfor %}
        </div>
        <div class="pb-4 input-div">
            <p class="pb-2 input-label">{{ form.refresh_token.label }}</p>
            {{ form.refresh_token(class="input is-normal") }}<br>
            {% for error in form.refresh_token.errors %}
            <div class="notification is-danger is-light" role="alert">{{ error }}</div>
            {% endfor %}
            
        </div>
        <p>{{ form.submit(class="button btn-custom") }}</p>
    </form>
        <hr>
        <div>
            <button class="js-modal-trigger btn-custom" data-target="flush-modal">
                Flush all data
              </button>
        </div>
        <div id="flush-modal" class="modal">
            <div class="modal-background"></div>
            <div class="modal-content">
              <div class="box">
                <p>Are you really sure?</p>
                <div>
                    <form action="{{ url_for('main.flush_data') }}" method="post">
                    {{ form_delete.hidden_tag() }}
                    {{ form_delete.flush(class="button btn-custom") }}
                </form>
                </div>
              </div>
            </div>
            <button class="modal-close is-large" aria-label="close"></button>
          </div>
</div>
</div>
</div>
</section>
</div>
</div>
{% endblock %}
{% block scripts %}
<script src="{{url_for('static', filename='js/modals.js')}}"></script>
{% endblock %}